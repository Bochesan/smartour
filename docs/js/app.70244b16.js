(function(t){function e(e){for(var n,r,l=e[0],a=e[1],u=e[2],d=0,h=[];d<l.length;d++)r=l[d],s[r]&&h.push(s[r][0]),s[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);c&&c(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,l=1;l<o.length;l++){var a=o[l];0!==s[a]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/smartour/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=a;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Intro"),o("Doc"),o("Footer")],1)},i=[],r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"view intro"},[o("h1",[t._v("Smartour")]),o("h3",[t._v("Makes website tour guide much easier")]),o("h2",[t._v("⬇︎")])])}],a={mounted:function(){tour.queue([{el:"#app > div > h1",slot:"<p>This is it's name</p>",options:{slotPosition:"top",layerEvent:tour.next.bind(tour)}},{el:"#app > div > h3",slot:"<p>This is what it does.</p>",options:{slotPosition:"bottom",layerEvent:tour.next.bind(tour)}},{el:"#app > div > h2",slot:"<p>Scoll up to see the document</p>",options:{slotPosition:"top",layerEvent:tour.next.bind(tour)}}]),tour.run()}},u=a,c=(o("9346"),o("2877")),d=Object(c["a"])(u,r,l,!1,null,"4cefd0c2",null),h=d.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"usage basic"},[o("div",{staticClass:"usage-content"},[o("div",{staticClass:"usage-content-doc",domProps:{innerHTML:t._s(t.doc1)}})])])},m=[],f=(o("ac6a"),o("f068")),g=o.n(f),v={data:function(){return{doc1:g.a}},mounted:function(){var t=this;["basic-usage","pure-string","html-string","slot-events","queue"].forEach(function(e,o){document.querySelector(".".concat(e,"-demo")).addEventListener("click",t["demo"+o])}),["top","right","bottom","left"].forEach(function(e){document.querySelector(".slot-".concat(e)).addEventListener("click",function(){t.demoPos(e)})})},methods:{demo0:function(){tour.focus({el:"#basic-usage"})},demo1:function(){tour.focus({el:"#pure-string",slot:"This is a pure string"})},demo2:function(){tour.focus({el:"#html-string",slot:"\n          <div>\n            <p>This is a html string</p>\n          </div>\n        "})},demoPos:function(t){var e=new Smartour;e.focus({el:".slot-".concat(t),slot:t,options:{slotPosition:t}})},demo3:function(){tour.focus({el:".slot-events-demo",options:{slotPosition:"right"},slot:'\n          <button class="occur-1 demo-btn">\n            Click here to occur an alert event\n          </button>\n          <button class="occur-2 demo-btn">\n            Click here to occur another event\n          </button>\n        ',keyNodes:[{el:".occur-1",event:function(){alert("Event!!")}},{el:".occur-2",event:function(){alert("Another event!!")}}]})},demo4:function(){var t=new Smartour;t.queue([{el:".li-1",options:{layerEvent:t.next.bind(t)},slot:"This is the 1st line."},{el:".li-2",options:{layerEvent:t.next.bind(t)},slot:"This is the 2nd line."},{el:".li-3",options:{layerEvent:t.next.bind(t)},slot:"This is the 3rd line."}]).run()}}},b=v,y=(o("619e"),Object(c["a"])(b,p,m,!1,null,"190bd07d",null)),w=y.exports,k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer"},[o("p",[t._v("Smartour concerns about the global climate problem.")]),o("p",[t._v("\n    The background image was download from "),o("a",{attrs:{href:"https://showyourstripes.info/"}},[t._v("#ShowYourStripes")])])])}],S=(o("a0f1"),{}),E=Object(c["a"])(S,k,x,!1,null,"6091108d",null),_=E.exports,T={name:"app",components:{Intro:h,Doc:w,Footer:_},mounted:function(){hljs.initHighlightingOnLoad()}},j=T,P=Object(c["a"])(j,s,i,!1,null,null,null),C=P.exports,q=(o("a606"),o("5ed6"),o("456d"),o("cebc")),O=o("d225"),L=o("b0b4"),A=function(t,e){return"\nposition: absolute;\nborder-radius: 4px;\nbox-shadow: 0 0 0 9999px ".concat(t,";\nz-index: 10001 !important;\ntransition: all .3s;\n")},I=function(t){return"\nposition: absolute;\nz-index: 10002 !important;\ntransition: all .3s;\n"},M=function(){return"\nposition: fixed;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\nz-index: 10000 !important;\n"},N={prefix:"smartour",padding:5,maskColor:"rgba(0, 0, 0, .5)",animate:!0,slotPosition:"top"},B=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(O["a"])(this,t),this.options=Object(q["a"])({},N,{layerEvent:this.over.bind(this)},e),this.mask=null,this.slot=null,this.layer=null}return Object(L["a"])(t,[{key:"_createMask",value:function(){this.mask||(this.mask=document.createElement("div"),this.mask.setAttribute("class",this.options.prefix+"-mask"),this.mask.setAttribute("style",A(this.options.maskColor)),document.body.appendChild(this.mask))}},{key:"_createSlot",value:function(t){this.slot||(this.slot=document.createElement("div"),this.slot.setAttribute("style",I()),document.body.appendChild(this.slot)),this.slot.setAttribute("class","".concat(this.options.prefix,"-slot ").concat(this.options.prefix,"-slot_").concat(this.options.slotPosition)),this.slot.innerHTML=t}},{key:"_createLayer",value:function(){this.layer||(this.layer=document.createElement("div"),this.layer.setAttribute("class",this.options.prefix+"-layer"),this.layer.setAttribute("style",M()),this.layer.addEventListener("click",this.options.layerEvent),document.body.appendChild(this.layer))}},{key:"_setPosition",value:function(t,e){["top","left","width","height"].forEach(function(o,n){if(e[n])if("top"===o||"left"===o){var s="scroll".concat(o.charAt(0).toUpperCase()+o.slice(1)),i=0;i=document.documentElement&&document.documentElement[s]?document.documentElement[s]:document.body[s],t.style[o]=e[n]+i+"px"}else t.style[o]=e[n]+"px"})}},{key:"_show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this._createMask(),this._createSlot(e),this._createLayer(),this.options.animate||(this.mask.style.transition=null,this.slot.style.transition=null);var n=document.querySelector(t),s=n.getBoundingClientRect(),i=s.top,r=s.left,l=s.width,a=s.height,u=i-this.options.padding,c=r-this.options.padding,d=l+2*this.options.padding,h=a+2*this.options.padding;this._setPosition(this.mask,[u,c,d,h]);var p=this.slot.getBoundingClientRect(),m=p.width,f=p.height,g=this.options.slotPosition,v=0,b=0;"top"===g?(v=u-f,b=c+d/2-m/2):"bottom"===g?(v=u+h,b=c+d/2-m/2):"left"===g?(v=u-(f-h)/2,b=c-m):"right"===g&&(v=u-(f-h)/2,b=c+d),this._setPosition(this.slot,[v,b]),e||(document.body.removeChild(this.slot),this.slot=null),o.length&&o.forEach(function(t){var e=t.el,o=t.event;document.querySelector(e).addEventListener("click",o)})}},{key:"focus",value:function(t){var e=t.el,o=void 0===e?"":e,n=t.slot,s=void 0===n?"":n,i=t.keyNodes,r=void 0===i?[]:i,l=t.options,a=void 0===l?{}:l;Object.keys(a).length&&(this.options=Object(q["a"])({},this.options,a)),this._show(o,s,r)}},{key:"queue",value:function(t){return this.tourList=t,this.tourListLength=t.length,this.tourIndex=-1,this}},{key:"run",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.tourListLength&&this.tourIndex<this.tourListLength-1){t?this.tourIndex++:this.tourIndex--;var e=this.tourList[this.tourIndex];e.options&&(this.options=Object(q["a"])({},this.options,e.options)),this._show(e.el,e.slot,e.keyNodes)}else this.over()}},{key:"next",value:function(){this.run(!0)}},{key:"prev",value:function(){this.run(!1)}},{key:"over",value:function(){var t=this;this.mask&&document.body.removeChild(this.mask),this.slot&&document.body.removeChild(this.slot),this.layer&&document.body.removeChild(this.layer),["mask","slot","layer"].forEach(function(e){t[e]=null})}}]),t}(),$=B;window.Smartour=$,window.tour=new $,n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(C)}}).$mount("#app")},"5ed6":function(t,e,o){},"5efe":function(t,e,o){},"619e":function(t,e,o){"use strict";var n=o("a5d9"),s=o.n(n);s.a},9346:function(t,e,o){"use strict";var n=o("ba5e"),s=o.n(n);s.a},a0f1:function(t,e,o){"use strict";var n=o("5efe"),s=o.n(n);s.a},a5d9:function(t,e,o){},a606:function(t,e,o){},ba5e:function(t,e,o){},f068:function(t,e){t.exports='<p>Once a website has changed its UI, usually they would set a list of tour guide to tell the visitors, that some modules were moved to the other places. We named it as &quot;tour guide&quot;, and Smartour is a solution for making tour guide much easier.</p>\n<h1 id="install">Install</h1>\n<p><strong>Smartour</strong> was built to an <code>umd</code> and <code>es modules</code> package.</p>\n<pre><code>npm install smartour</code></pre><pre><code>/* ES Modules */\nimport Smartour from &#39;smartour/dist/index.esm.js&#39;\n/* CommandJS */\nconst Smartour = require(&#39;smartour&#39;)\n/* &lt;script&gt; */\n&lt;script src=&quot;smartour/dist/index.js&quot;&gt;&lt;/script&gt;</code></pre><h1 id="basic-usage">Basic usage</h1>\n<p><strong>Smartour</strong> provides a very simple API <code>focus()</code>, it&#39;s the easist way to highlight an element.</p>\n<pre><code class="language-javascript">let tour = new Smartour()\n\ntour.focus({\n  el: &#39;#basic-usage&#39;\n})</code></pre>\n<p><button class="demo-btn basic-usage-demo">Try it</button></p>\n<h1 id="slot">Slot</h1>\n<p><code>slot</code> is a html string that allows you to add a description to the highlighted element.</p>\n<h2 id="pure-string">Pure string:</h2>\n<pre><code class="language-javascript">let tour = new Smartour()\n\ntour.focus({\n  el: &#39;#pure-string&#39;,\n  slot: &#39;This is a pure string&#39;\n})</code></pre>\n<p><button class="demo-btn pure-string-demo">Try it</button></p>\n<h2 id="html-string">Html string</h2>\n<pre><code class="language-javascript">let tour = new Smartour()\n\ntour.focus({\n  el: &#39;#html-string&#39;,\n  slot: `\n    &lt;div&gt;\n      &lt;p&gt;This is a html string&lt;/p&gt;\n    &lt;/div&gt;\n  `\n})</code></pre>\n<p><button class="demo-btn html-string-demo">Try it</button></p>\n<h2 id="slot-positions">Slot positions</h2>\n<p>There are 4 positions to place a slot: <code>top</code>, <code>right</code>, <code>left</code>, <code>bottom</code>.</p>\n<p>Set the <code>options.slotPosition</code> attribute to overwrite the default <code>top</code>.</p>\n<pre><code class="language-javascript">let tour = new Smartour()\n\ntour.focus({\n  el: &#39;#slot-positions&#39;,\n  slot: `top`,\n  options: {\n    slotPosition: &#39;top&#39; // default is `top`\n  }\n})</code></pre>\n<p><button class="demo-btn slot-positions-demo slot-top">Top</button>\n<button class="demo-btn slot-positions-demo slot-bottom">Bottom</button>\n<button class="demo-btn slot-positions-demo slot-left">Left</button>\n<button class="demo-btn slot-positions-demo slot-right">Right</button></p>\n<h2 id="slot-events">Slot events</h2>\n<p>The slot element could bind events, too. We can use the <code>keyNodes</code> attribute to bind events to them.</p>\n<p><code>keyNodes</code> is an array contains with <code>keyNode</code>. The attribute <code>keyNode.el</code> is a css selector, and the other <code>keyNode.event</code> is the binding event.</p>\n<pre><code class="language-javascript">let tour = new Smartour()\n\ntour.focus({\n  el: &#39;.slot-events-demo&#39;,\n  options: {\n    slotPosition: &#39;right&#39;\n  },\n  slot: `\n    &lt;button class=&quot;demo-btn occur-1&quot;&gt;\n      Click here to occur an alert event\n    &lt;/button&gt;\n    &lt;button class=&quot;demo-btn occur-2&quot;&gt;\n      Click here to occur an alert event\n    &lt;/button&gt;\n  `,\n  keyNodes: [{\n    el: &#39;.occur-1&#39;,\n    event: () =&gt; { alert(&#39;Event!!&#39;) }\n  }, {\n    el: &#39;.occur-2&#39;,\n    event: () =&gt; { alert(&#39;Another event!!&#39;) }\n  }]\n})</code></pre>\n<p><button class="demo-btn slot-events-demo">Try it</button></p>\n<h1 id="queue">Queue</h1>\n<p>Sometimes there are more than one tour guide to show. <strong>Smartour</strong> allows you to put the tour guides together as a queue and show them one by one.</p>\n<p>Example:</p>\n<ul>\n<li class="li-1">This is the first line.</li>\n<li class="li-2">This is the second line.</li>\n<li class="li-3">This is the thired line.</li>\n</ul>\n\n<pre><code class="language-javascript">let tour = new Smartour()\n\ntour\n  .queue([{\n    el: &#39;.li-1&#39;,\n    options: {\n      layerEvent: tour.next.bind(tour)\n    },\n    slot: &#39;This is the 1st line.&#39;\n  }, {\n    el: &#39;.li-2&#39;,\n    options: {\n      layerEvent: tour.next.bind(tour)\n    },\n    slot: &#39;This is the 2nd line.&#39;\n  }, {\n    el: &#39;.li-3&#39;,\n    options: {\n      layerEvent: tour.next.bind(tour)\n    },\n    slot: &#39;This is the 3rd line.&#39;\n  }])\n  .run() // don&#39;t forget to trigger api `run()` to show the first tour guide</code></pre>\n<p><button class="demo-btn queue-demo">Try it</button></p>\n<h1 id="options">Options</h1>\n<p><strong>Smartour</strong> is a constructor and receives an <code>options</code> parameter to overwrite the default.</p>\n<p>Let&#39;s take a look at the default options:</p>\n<pre><code class="language-javascript">{\n  prefix: &#39;smartour&#39;, // class prefix\n  padding: 5, // padding of the highlight area\n  maskColor: &#39;rgba(0, 0, 0, .5)&#39;, // maskColor with alpha\n  animate: true, // use animate while changing tour guides\n  slotPosition: &#39;top&#39; // default slot position\n  layerEvent: smartour.over // events while clicking the layer\n}</code></pre>\n<h1 id="apis">APIs</h1>\n<p>Besides <code>.focus()</code>, <code>.queue()</code> and <code>.run()</code>, <strong>Smartour</strong> alse privides two apis to handle the tour guide playing.</p>\n<ul>\n<li><p><code>.next()</code>: Show the next tour guide. (Only work with <code>.queue()</code>)</p>\n</li>\n<li><p><code>.prev()</code>: Show the previous tour guide. (Only work with <code>.queue()</code>)</p>\n</li>\n</ul>\n<h1 id="principles-of-smartour">Principles of Smartour</h1>\n<p><strong>Smartour</strong> uses api <code>element.getBoundingClientRect()</code> to detect the size and position of the target element, than place a rect element with <code>box-shadow</code> over it as the highlight area.</p>\n<p>Because click events could not be triigered from the <code>box-shadow</code> area, <strong>Smartour</strong> place another transparent layer over the page, and bind <code>layerEvent()</code> to it to solve this problem.</p>\n<p>The position of the highlight area and slot are <code>absolute</code>. Every time the page scrolled, the value of <code>document.documentElement.scrollTop</code> or <code>document.documentElement.scrollLeft</code> would be changed, and <strong>Smartour</strong> will use these values to correct the position.</p>\n'}});
//# sourceMappingURL=app.70244b16.js.map